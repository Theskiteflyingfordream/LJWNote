#### IO会经历两个阶段：

- 等待数据到达内核缓冲区
- 从内核缓冲区拷贝数据到程序缓冲区

### 阻塞型IO

在阻塞 IO 模型里，从硬件到系统内核、从系统内核到程序空间，都是阻塞的。

### 非阻塞 IO 模型

硬件到系统内核，轮询阻塞。系统内核到程序空间，阻塞。

### 复用 IO 模型

硬件到系统内核，多流轮询阻塞。系统内核到程序空间，阻塞。

### 信号驱动 IO 模型

信号驱动 IO 在第一阶段，设置了一个SIGIO信号处理函数，数据到达内核缓冲区之前，进程是不阻塞的。

而当进程收到SIGIO信号，进程通过信号处理函数发起系统调用，将数据从内核缓冲区复制到程序缓冲区。这个过程与上面几个是完全一样的，同样也是阻塞的。

通过这种方式，信号驱动 IO 下的进程就可以不阻塞，可以去做其他事情了。

（硬件到系统内核，信号回调不阻塞。系统内核到程序空间，阻塞。）

### 异步 IO 模型

进程发起aio_read后直接返回，aio_read告诉内核要复制到进程的哪里，内核等数据到达内核后，将它复制到进程空间的指定位置，然后进程通过回调函数处理数据。

硬件到系统内核，信号回调不阻塞。系统内核到程序空间，信号回调不阻塞。

https://mp.weixin.qq.com/s/TbIPlBtkK_zCyt54cCX8dw



### 直接IO与非直接IO

直接 I/O，不会发⽣内核缓存和⽤户程序之间数据复制，⽽是直接经过⽂件系统访问磁盘。

⾮直接 I/O，读操作时，数据从内核缓存（Page Cache）中拷⻉给⽤户程序，写操作时，数据从⽤户程序拷⻉给内核缓存，再由内核决定什么时候写⼊数据到磁盘。

